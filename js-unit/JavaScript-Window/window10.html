<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script>
    function setCookie(c_name, value, expiredays)
    {
      var exdate=new Date();
      exdate.setDate(exdate.getDate() + expiredays);
      var tmp=c_name+ "=" + escape(value) + ((expiredays==null) ? "" : "; expires=" + exdate.toGMTString());
      document.cookie+=tmp; //不知道为什么在这里没有写进cookie 难道是没有权限?

      alert("Success " + tmp);
    }

    function getCookie(c_name)
    {
      alert(document.cookie);

      if(document.cookie.length<=0)
        return ""

      c_start=document.cookie.indexOf(c_name + "=");
      if(c_start == -1)
        return ""

      c_start=c_start + c_name.length + 1;
      c_end=document.cookie.indexOf(";", c_start);
      if(c_end == -1)
        c_end=document.cookie.length;

      return unescape(document.cookie.substring(c_start, c_end));
    }

    function checkCookie()
    {
      username=getCookie("username");
      if(username != null && username != "")
      {
        alert("welcome again " + username + "!");
      }
      else
      {
        username=prompt("Please enter your name:", "");
        if(username != null && username != "")
        {
          setCookie("username", username, 30);
        }
      }
    }
  </script>
</head>
<body onload="checkCookie()">
</body>
</html>
